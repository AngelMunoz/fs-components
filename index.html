<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="favicon.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>F# Components</title>
    <script src="https://unpkg.com/construct-style-sheets-polyfill"></script>
    <style>
      html, body  {
        margin: 0;
        padding: 0.5em;
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
      }
    </style>
  </head>
  <body>
    <div id="msg-wrapper">
      <fs-message header="I have a header!" kind="primary">
        I am a closable message.
      </fs-message>
      <button id="message-creator">create a new fs-message</button>
      <fs-off-canvas is-open closable>
        <p>
          Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vestibulum id enim finibus, dapibus dui in, tincidunt est. Nullam a maximus mi, pellentesque rutrum neque. Etiam tempus, justo a cursus efficitur, leo neque sagittis lorem, quis mattis orci augue sagittis ipsum. Proin ultrices diam a sapien malesuada maximus. Etiam rhoncus fermentum purus, sit amet mollis sapien. Class aptent taciti sociosqu ad litora torquent per conubia nostra, per inceptos himenaeos. Praesent blandit luctus gravida. Nulla vulputate at sapien id aliquet. In hac habitasse platea dictumst. Ut sit amet ex eget augue tempus varius. Pellentesque feugiat velit molestie lorem laoreet fermentum. Ut eget felis laoreet, faucibus dolor vel, ullamcorper lacus. Praesent posuere nisl sapien, vitae tempus erat aliquam ut. Suspendisse nisi nulla, tincidunt id elit ac, tincidunt porttitor turpis.
        </p>
      </fs-off-canvas>
    </div>

    <script type="module">
      import { registerAll } from '/src/Main.js'
      registerAll();
      const creator = document.querySelector("#message-creator");

      const msgWrapper = document.querySelector('#msg-wrapper');
      msgWrapper.addEventListener('fs-close-message', (event) => {
        event.target.remove();
      });

      msgWrapper.addEventListener('fs-close-off-canvas', (event) => {
        console.log(event);
        event.target.removeAttribute('is-open');
      });

      creator.onclick = function() {
        const fsMessage = document.createElement('fs-message');
        const text = document.createTextNode('I am a new message!');
        fsMessage.setAttribute('header', 'I am a new fs-message');
        fsMessage.setAttribute('kind', 'link');
        fsMessage.appendChild(text);
        msgWrapper.appendChild(fsMessage);
      }
    </script>
  </body>
</html>
